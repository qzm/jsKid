function jsKid(){var $=this;this.model=null;this.view=null;this.ctrl=null;this.canvas=null;this.context=null;this.version={info:"\u935b\u85c9\u6095\u6d93\u7c00sKid,\u93c4\ue21d\ue74e\u5bf0\u6944\u7e56\u6d93\ue045\u7273\u8e47\u51a8\u7c31\u5bf0\u581c\u7b09\u93b4\u612e\u555b,\u752f\u5c7e\u6e5c\u7039\u51ad\u5158\u93af\u5145\u7af4\u6d93\ue044\ue122\u701b\u612a\u7af4\u93cd\u75af\u5bd4\u6fb9\ue1bd\u579a\u95c0\ufffd",name:"jsKid",version:"1.0",author:"QZM",eMail:"q.hn@163.com"};this.browser=true;this.init=function(args){args()};this.initImg=function(imgSrc){var img=new Image();img.src=imgSrc;return img};this.Cache={map:[],set:function(key,value){this.map[key]=value},get:function(key){return this.map[key]},havekey:function(key){if(this.get(key)){return false}else{return true}},remove:function(key){delete this.map[key]},plus:function(key,step){return this.map[key]+=step}};this.Storage={set:function(key,value){window.localStorage[key]=value},get:function(key){return window.localStorage[key]},havekey:function(key){if(window.localStorage[key]){return true}return false},remove:function(key){window.localStorage.removeItem(key)},getKey:function(value){for(var i=0;i<window.localStorage;i++){if(window.localStorage[i]==value){return window.localStorage.key(i)}}return null},clear:function(){window.localStorage.clear()},equal:function(key1,key2){if(window.localStorage[key1]==window.localStorage[key2]){return true}return false},aEqual:function(key1,key2){if(window.localStorage[key1]===window.localStorage[key2]){return true}return false},prototype:window.localStorage};this.run=function(funtionToRun){window.requestAnimationFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60)}})();window.cancelAnimationFrame=(function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout})();(function _worker(){funtionToRun();requestAnimationFrame(_worker)})()};this.Canvas={init:function(){var _c=document.getElementsByTagName("canvas")[0];return _c.getContext("2d")},base:function(){return document.getElementsByTagName("canvas")[0]}};this.Dom=function(args){if(args[0]){switch(args[0]){case"#":return document.getElementById(args.substring(1,args.length));case"@":return document.getElementsByName(args.substring(1,args.length));case"$":return document.getElementsByTagName(args.substring(1,args.length));case".":return document.getElementsByClassName(args.substring(1,args.length));default:return null}}return null};this.Ajax=function(){var xmlhttp=(function(){var xhr=window.XMLHttpRequest||window.ActiveXObject("Microsoft.XMLHTTP")||window.ActiveXObject("Msxml2.XMLHTTP");return new xhr()})();this.send=function(args){var method=args.method||"GET";var url=args.url||"";var async=args.async||true;var data=args.data||null;try{xmlhttp.open(method,url,async);xmlhttp.send(data)}catch(e){alert("Ajax\u5bee\u509a\u7236\u951b\u5c7d\u5f72\u9473\u82a5\u69f8\u93c8\ue100\u6e74\u6d60\uff47\u721c\u9428\u52ef\u68f6\u68f0\u6a48\u7d1d\u704f\u54bcS\u6d60\uff47\u721c\u93c0\u60e7\u57cc\u93c8\u5d85\u59df\u9363\u3124\u7b02\u7487\u66e1\u762f")}};this.response=function(callback,free){_free=free||null;xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4){if(xmlhttp.status==200){var data=xmlhttp.responseText||xmlhttp.responseXML||xmlhttp.responseBody;callback(data)}}};xmlhttp.onloadend=function(){if(_free&&xmlhttp.status){xmlhttp.status=0;_free.call()}}}};this.AjaxPool=function(thread){var ajaxList=[];for(var i=0;i<thread;i++){ajaxList[i]=new $.Ajax()}this.get=function(){return ajaxList.shift()};this.free=function(xmlHttpObject){ajaxList.push(xmlHttpObject)}};this.JSON={parse:function(_str){if(_str){var JSON=window.JSON||null;if(JSON){return JSON.parse(_str)}else{return eval("("+_str+")")}}else{return null}},stringify:function(json){if(json){var JSON=window.JSON||null;if(JSON){return JSON.stringify(json)}else{var jsonString="{",type,value;for(var key in json){type=typeof(json[key]);switch(type){case"object":value=json[key]?this.stringify(json[key]):"null";jsonString=jsonString+'"'+key+'":'+value+",";break;case"string":jsonString=jsonString+'"'+key+'":"'+json[key]+'",';break;default:jsonString=jsonString+'"'+key+'":'+json[key]+","}}jsonString=jsonString.substring(0,jsonString.length-1);jsonString+="}";return jsonString}}else{return""}}}};
